=============================
Render with text
=============================

Hello {{ name }}!

---

(source_file
  (text_block)
  (render_block
    (identifier))
  (text_block))

=============================
Multiline render
=============================

{{""
}}
{{
    ""
}}

---

(source_file
  (text_block)
  (render_block
    (string_literal))
  (text_block)
  (render_block
    (string_literal))
  (text_block))

=============================
Multiple renders
=============================
{{a}}{{a}}{{a}}
---

(source_file
  (render_block
    (identifier))
  (render_block
    (identifier))
  (render_block
    (identifier)))

=============================
Nested renders
:error
=============================

{{ {{a}} }}

---



=============================
Identifier
=============================

{{ name }}
{{ nam_e1 }}
{{ _nam_e1 }}
{{ @name }}
{{ @na_me1 }}

---

(source_file
  (text_block)
  (render_block
    (identifier))
  (text_block)
  (render_block
    (identifier))
  (text_block)
  (render_block
    (identifier))
  (text_block)
  (render_block
    (identifier))
  (text_block)
  (render_block
    (identifier))
  (text_block))

=============================
Invalid identifier
:error
=============================

{{ @_iaminvalid }}

---



=============================
Function call
=============================

{{ foo() }}
{{ @foo() }}
{{ foo(x) }}
{{ foo(x, y) }}
{{ foo(bar()) }}

---

(source_file
  (text_block)
  (render_block
    (call_expression
      function: (identifier)))
  (text_block)
  (render_block
    (call_expression
      function: (identifier)))
  (text_block)
  (render_block
    (call_expression
      function: (identifier)
      arguments: (identifier)))
  (text_block)
  (render_block
    (call_expression
      function: (identifier)
      arguments: (identifier)
      arguments: (identifier)))
  (text_block)
  (render_block
    (call_expression
      function: (identifier)
      arguments: (call_expression
        function: (identifier))))
  (text_block))

=============================
Invalid function call
:error
=============================

{{ foo( }}

---



=============================
Unary expression
=============================

{{ ! flag }}
{{ !true }}
{{ !"str" }}
{{ not true }}
{{ not "srr" }}
{{ not value }}

---

(source_file
  (text_block)
  (render_block
    (unary_expression
      (identifier)))
  (text_block)
  (render_block
    (unary_expression
      (boolean_literal)))
  (text_block)
  (render_block
    (unary_expression
      (string_literal)))
  (text_block)
  (render_block
    (unary_expression
      (boolean_literal)))
  (text_block)
  (render_block
    (unary_expression
      (string_literal)))
  (text_block)
  (render_block
    (unary_expression
      (identifier)))
  (text_block))

=============================
Binary expression
=============================

{{ a == b }}
{{ a != b }}
{{ a < b }}
{{ a > b }}
{{ a >= b }}
{{ a <= b }}
{{ a .. b }}
{{ a or b }}
{{ a and b }}
{{ a is b }}
{{ a is not b }}
{{   a is   not  b }}

---

(source_file
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block)
  (render_block
    (binary_expression
      left: (identifier)
      right: (identifier)))
  (text_block))

=============================
Nested unary expressions
=============================

{{ not not true }}
{{ not !true }}
{{ !!true }}
{{ false is not not true }}
{{ false is not ! true }}
{{ false is not a < false }}
{{ (false is not true) is not a }}

---

(source_file
  (text_block)
  (render_block
    (unary_expression
      (unary_expression
        (boolean_literal))))
  (text_block)
  (render_block
    (unary_expression
      (unary_expression
        (boolean_literal))))
  (text_block)
  (render_block
    (unary_expression
      (unary_expression
        (boolean_literal))))
  (text_block)
  (render_block
    (binary_expression
      (boolean_literal)
      (unary_expression
        (boolean_literal))))
  (text_block)
  (render_block
    (binary_expression
      (boolean_literal)
      (unary_expression
        (boolean_literal))))
  (text_block)
  (render_block
    (binary_expression
      (binary_expression
        (boolean_literal)
        (identifier))
      (boolean_literal)))
  (text_block)
  (render_block
    (binary_expression
      (parenthesized_expression
        (binary_expression
          (boolean_literal)
          (boolean_literal)))
      (identifier)))
  (text_block))

=============================
Nested binary expressions
=============================

{{ a or b and c or d and e }}
{{ not a and b or not c }}
{{ a == b and c != d or e > f }}
{{ x or y and z == w or v }}
{{ a and b or c and d or e }}

---

(source_file
  (text_block)
  (render_block
    (binary_expression
      (binary_expression
        (identifier)
        (binary_expression
          (identifier)
          (identifier)))
      (binary_expression
        (identifier)
        (identifier))))
  (text_block)
  (render_block
    (binary_expression
      (binary_expression
        (unary_expression
          (identifier))
        (identifier))
      (unary_expression
        (identifier))))
  (text_block)
  (render_block
    (binary_expression
      (binary_expression
        (binary_expression
          (identifier)
          (identifier))
        (binary_expression
          (identifier)
          (identifier)))
      (binary_expression
        (identifier)
        (identifier))))
  (text_block)
  (render_block
    (binary_expression
      (binary_expression
        (identifier)
        (binary_expression
          (identifier)
          (binary_expression
            (identifier)
            (identifier))))
      (identifier)))
  (text_block)
  (render_block
    (binary_expression
      (binary_expression
        (binary_expression
          (identifier)
          (identifier))
        (binary_expression
          (identifier)
          (identifier)))
      (identifier)))
  (text_block))

=============================
Parenthesized expression
=============================

{{ ("") }}
{{ (true) }}
{{ (name) }}
{{ a is (not b) }}

---

(source_file
  (text_block)
  (render_block
    (parenthesized_expression
      (string_literal)))
  (text_block)
  (render_block
    (parenthesized_expression
      (boolean_literal)))
  (text_block)
  (render_block
    (parenthesized_expression
      (identifier)))
  (text_block)
  (render_block
    (binary_expression
      (identifier)
      (parenthesized_expression
        (unary_expression
          (identifier)))))
  (text_block))
